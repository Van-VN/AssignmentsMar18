<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <h2>
      Bài 1: Loại bỏ các giá trị falsy khỏi Array [false, null, 0, "",
      undefined, NaN, 1, 2, 3, "Not Empty"]
    </h2>
    <button onclick="removeFalsy()">Click to start</button>

    <h2>Bài 2: Viết hàm tìm kiếm phần tử lớn thứ hai trong một mảng</h2>
    <button onclick="findSndMax()">Click to start</button>

    <h2>
      Bài 3: Viết hàm đếm số lần xuất hiện của các phần tử trong một mảng và trả
      về một đối tượng với key là giá trị của phần tử và value là số lần xuất
      hiện.
    </h2>
    <button onclick="findDupes()">Click to start</button>

    <h2>
      Bài 4: Viết hàm tìm kiếm phần tử duy nhất (không trùng) trong một mảng.
    </h2>
    <button onclick="findUnique()">Click to start</button>

    <h2>
      Bài 5: Viết hàm tạo ra một mảng mới với giá trị của phần tử tương ứng trong hai mảng đầu vào đã cho được tổng lại.
    </h2>
    <button onclick="combineArray()">Click to start</button>
  </body>
</html>
<script>
  const arr = [];

  function creatArray() {
    let arrLen = +prompt("Nhập chiều dài của Array");
    for (let i = 0; i < arrLen; i++) {
      let num = prompt(`Nhập phần tử trong Array, còn ${arrLen - i} lần nhập`);
      arr.push(num);
    }
  }

  // Bài 1
  function removeFalsy() {
    let arr = [false, null, 0, "", undefined, NaN, 1, 2, 3, "Not Empty"];
    console.log(arr);
    let filteredArray = arr.filter(Boolean);
    alert(
      `Array ban đầu là:\n[false, null, 0, "", undefined, NaN, 1, 2, 3, "Not Empty"]\nArray đã được lọc các giá trị falsy là:\n[${filteredArray}]`
    );
  }

  // Bài 2
  function findSndMax() {
    arr.splice(0, arr.length);
    creatArray();
    const arr1 = [...arr];
    arr1.sort(function (a, b) {
      return b - a;
    });
    alert(`Array đã tạo [${arr}] có số lớn thứ 2 là ${arr1[1]}`);
  }

  // Bài 3

  function findDupes() {
    arr.splice(0, arr.length);
    creatArray();
    let result = "";
    function checkDupes() {
      for (let i = 0; i < arr.length; i++) {
        let count = 0;
        for (let j = 0; j < arr.length; j++) {
          if (arr[i] === arr[j]) {
            count++;
          }
        }
        if (
          count >= 1 &&
          !result.includes(`Phần từ ${arr[i]} trong Array ${arr} `)
        ) {
          result += `Phần từ ${arr[i]} trong Array ${arr} lặp lại ${count} lần\n`;
        }
      }
      alert(result);
    }

    checkDupes();
  }

  // Bài 4

  function findUnique() {
    arr.splice(0, arr.length);
    creatArray();
    let result = `Phần tử: \n `;
    for (let i = 0; i < arr.length; i++) {
      let count = 0;
      for (let j = 0; j < arr.length; j++) {
        if (arr[i] === arr[j]) {
          count++;
        }
      }
      if (count <= 1) {
        result += `+ ${arr[i]}\n`;
      }
    }
    alert(`${result}Chỉ xuất hiện một lần duy nhất.`);
  }

  //Bài 5

  function combineArray() {
    arr.splice(0, arr.length);

    // Tạo array thứ nhất

    let arrLen = +prompt("Nhập chiều dài của hai Array");
    for (let i = 0; i < arrLen; i++) {
      let num = prompt(`Nhập phần tử trong Array thứ nhất, còn ${arrLen - i} lần nhập`);
      arr.push(num);
    }

    // Tạo array thứ 2 và array tổng:
    let arr1 = [];
    let arrComb = [];

    for (let j = 0; j < arrLen; j++) {
      let num1 = prompt(`Nhập phần tử trong Array thứ hai, còn ${arrLen - j} lần nhập`);
      arr1.push(num1);
    }

    // Tổng giá trị các phần tử trong từng Array, push vào Array thứ 3

    for (let index = 0; index < arrLen; index++) {
      arrComb.push(arr[index] + arr1[index]);      
    }

    alert(`Array tổng được tạo thành từ Array 1\n\n${arr}\n\nvà Array 2\n\n${arr1}\n\nlà: ${arrComb}`);
   
  }
</script>
